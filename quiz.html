<html>
<head>

</head>
	<body>

<div id = "message"></div>
<div id="quiz">    
</div>
<button type="button" onclick="validateAns()" id="btnNext">Next</button>

</body>

<script type="text/javascript">
var quiz = [{
    "question": "1: Who came up with the theory of relativity?",
        "choices": [
        "Sir Isaac Newton",
        "Nicolaus Copernicus",
        "Albert Einstein",
        "Ralph Waldo Emmerson"],
        "correct": "Albert Einstein",
        "explanation": "Albert Einstein drafted the special theory of relativity in 1905.",
}, {
    "question": "2: Who is on the two dollar bill?",
        "choices": [
        "Thomas Jefferson",
        "Dwight D. Eisenhower",
        "Benjamin Franklin",
        "Abraham Lincoln"],
        "correct": "Thomas Jefferson",
        "explanation": "The two dollar bill is seldom seen in circulation. As a result, some businesses are confused when presented with the note.",
}, {
    "question": "3: What event began on April 12, 1861?",
        "choices": [
        "First manned flight",
        "California became a state",
        "American Civil War began",
        "Declaration of Independence"],
        "correct": "American Civil War began",
        "explanation": "South Carolina came under attack when Confederate soldiers attacked Fort Sumter. The war lasted until April 9th 1865.",
},

];
var questionIndex = 0;
var z = document.getElementById("quiz");
var score = 0;
          
var quizObject = quiz[questionIndex];


createQueAnsWindow(quizObject);
   



//question function will take one object question and display the question with choices
function createQueAnsWindow(que) {
    //console.log(que);
     

    var y = document.createElement("div");
    y.setAttribute("id", "q" + questionIndex);
     document.getElementById("quiz").appendChild(y);
    
    var x = document.createElement("p");
    y.appendChild(x);
    qst = quizObject.question;
    x.innerHTML = qst;
    
    var a = document.createElement("div");
    a.setAttribute("id", "answer");
    y.appendChild(a);
    
    for (var j = 0; j < que.choices.length; j++) {
        var input = document.createElement("INPUT");
        var br = document.createElement("BR");
        ans = que.choices[j];
        input.setAttribute("type", "checkbox");
        input.setAttribute("id", "ans" + j);

        //label
        var l = document.createElement("label");
        l.setAttribute("for", "ans" + j);
        l.innerHTML = ans;

        a.appendChild(l);
        a.appendChild(input);
        a.appendChild(br);
    }
    
};


var validateAns = function () {
    var mS = document.getElementById("mess");

    var f = document.getElementById("answer");

    var correct = quiz[questionIndex].correct;

    var labels = f.getElementsByTagName('label');
    
    //   console.log(labels);
    for (var i = 0; i < labels.length; i++) {
        var forId = labels[i].getAttribute("for");
        var checkBox = document.getElementById(forId);
      //  console.log(i);
        
        if (checkBox.checked) {
            if (labels[i].innerHTML == correct) {
                alert("Correct answer!");
                
                score += 1;
                
            } else { alert("Wrong answer!");
                        
        }
    }
    } 
    nextQuestion();
    
};


function nextQuestion () {
    
    var curDiv = document.getElementById("q" + questionIndex);
    questionIndex++;
    console.log(questionIndex);
    curDiv.remove();

    quizObject = quiz[questionIndex];
    if (questionIndex < 3){
        createQueAnsWindow(quizObject);
    } else {messageScore();}
    
};

function messageScore () {
    if (score <= 1) {
    alert("Buuuuh!!!");
    }
    if (score=3) {
    alert("Yeaaaah!!");
    } else {
    alert("Good!");
    }
};


</script>
	</body>
</html>


